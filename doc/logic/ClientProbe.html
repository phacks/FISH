<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Wed Dec 11 17:12:25 CET 2013 -->
<title>ClientProbe</title>
<meta name="date" content="2013-12-11">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ClientProbe";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../logic/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ClientProbe.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../logic/ClientHandler.html" title="class in logic"><span class="strong">Prev Class</span></a></li>
<li><a href="../logic/ClientReader.html" title="class in logic"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?logic/ClientProbe.html" target="_top">Frames</a></li>
<li><a href="ClientProbe.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">logic</div>
<h2 title="Class ClientProbe" class="title">Class ClientProbe</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>logic.ClientProbe</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">ClientProbe</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">Regularly checks for additions / deletions in the shared files folder, and triggers appropriate actions on the client process</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../logic/Client.html" title="class in logic"><code>Client</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../logic/Client.html" title="class in logic">Client</a></code></td>
<td class="colLast"><code><strong><a href="../logic/ClientProbe.html#client">client</a></strong></code>
<div class="block">The client on which this thread is started</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.HashMap&lt;java.lang.String,java.lang.Boolean&gt;</code></td>
<td class="colLast"><code><strong><a href="../logic/ClientProbe.html#filesMap">filesMap</a></strong></code>
<div class="block">Hashmap containing files names and types as the key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/ClientProbe.html#sharedFilePath">sharedFilePath</a></strong></code>
<div class="block">The path towards the shared folder of the client</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) org.apache.tika.Tika</code></td>
<td class="colLast"><code><strong><a href="../logic/ClientProbe.html#tika">tika</a></strong></code>
<div class="block">Tika is a tool provided by Apache to obtain the type of a file</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../logic/ClientProbe.html#UPDATE_TIME">UPDATE_TIME</a></strong></code>
<div class="block">The time after which the folder is checked again</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../logic/ClientProbe.html#ClientProbe(logic.Client)">ClientProbe</a></strong>(<a href="../logic/Client.html" title="class in logic">Client</a>&nbsp;client)</code>
<div class="block">Initializes the hashmap with the contents of the folder</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../logic/ClientProbe.html#initializeFilesMap(java.util.HashMap, java.lang.String, java.lang.String)">initializeFilesMap</a></strong>(java.util.HashMap&lt;java.lang.String,java.lang.Boolean&gt;&nbsp;filesMap,
                  java.lang.String&nbsp;sharedFilePath,
                  java.lang.String&nbsp;pathPrefix)</code>
<div class="block">Fills the hashmap with file names and type for files found in the shared folder or any directory, 
 subdirectory and so on.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../logic/ClientProbe.html#probeSharedFiles(java.util.HashMap, java.lang.String, java.lang.String)">probeSharedFiles</a></strong>(java.util.HashMap&lt;java.lang.String,java.lang.Boolean&gt;&nbsp;filesMap,
                java.lang.String&nbsp;sharedFilePath,
                java.lang.String&nbsp;pathPrefix)</code>
<div class="block">Additions are files that are not in the hashmap.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/ClientProbe.html#run()">run</a></strong>()</code>
<div class="block">Detects additions and/or deletions in the shared files folder.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../logic/ClientProbe.html#searchForDeletions(java.util.HashMap)">searchForDeletions</a></strong>(java.util.HashMap&lt;java.lang.String,java.lang.Boolean&gt;&nbsp;filesMap)</code>
<div class="block">For all deleted files, an action is triggered on the client, and the corresponding entry is deleted from the hashmap</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../logic/ClientProbe.html#setAllFalse(java.util.HashMap)">setAllFalse</a></strong>(java.util.HashMap&lt;java.lang.String,java.lang.Boolean&gt;&nbsp;filesMap)</code>
<div class="block">All the values of the hashmap are set at false</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="sharedFilePath">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sharedFilePath</h4>
<pre>java.lang.String sharedFilePath</pre>
<div class="block">The path towards the shared folder of the client</div>
</li>
</ul>
<a name="client">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>client</h4>
<pre><a href="../logic/Client.html" title="class in logic">Client</a> client</pre>
<div class="block">The client on which this thread is started</div>
</li>
</ul>
<a name="filesMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filesMap</h4>
<pre>java.util.HashMap&lt;java.lang.String,java.lang.Boolean&gt; filesMap</pre>
<div class="block">Hashmap containing files names and types as the key. The value is used to determine is a file has been deleted</div>
</li>
</ul>
<a name="UPDATE_TIME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UPDATE_TIME</h4>
<pre>private final&nbsp;int UPDATE_TIME</pre>
<div class="block">The time after which the folder is checked again</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#logic.ClientProbe.UPDATE_TIME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="tika">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>tika</h4>
<pre>org.apache.tika.Tika tika</pre>
<div class="block">Tika is a tool provided by Apache to obtain the type of a file</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ClientProbe(logic.Client)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ClientProbe</h4>
<pre>public&nbsp;ClientProbe(<a href="../logic/Client.html" title="class in logic">Client</a>&nbsp;client)
            throws java.io.IOException</pre>
<div class="block">Initializes the hashmap with the contents of the folder</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>client</code> - The client on which this thread is started</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Detects additions and/or deletions in the shared files folder. This operation is repeated constantly, 
 and sleeps for a given mount of time defined by the UPDATE_TIME constant.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
<dt><span class="strong">See Also:</span></dt><dd><code>Runnable.run()</code></dd></dl>
</li>
</ul>
<a name="setAllFalse(java.util.HashMap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAllFalse</h4>
<pre>private&nbsp;void&nbsp;setAllFalse(java.util.HashMap&lt;java.lang.String,java.lang.Boolean&gt;&nbsp;filesMap)</pre>
<div class="block">All the values of the hashmap are set at false</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filesMap</code> - Hashmap containing files names and types as the key. The value is used to determine is a file has been deleted</dd></dl>
</li>
</ul>
<a name="searchForDeletions(java.util.HashMap)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchForDeletions</h4>
<pre>private&nbsp;void&nbsp;searchForDeletions(java.util.HashMap&lt;java.lang.String,java.lang.Boolean&gt;&nbsp;filesMap)</pre>
<div class="block">For all deleted files, an action is triggered on the client, and the corresponding entry is deleted from the hashmap</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filesMap</code> - Hashmap containing files names and types as the key. The value is used to determine is a file has been deleted</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../logic/Client.html#removeFile(java.lang.String)"><code>Client.removeFile(String)</code></a></dd></dl>
</li>
</ul>
<a name="probeSharedFiles(java.util.HashMap, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>probeSharedFiles</h4>
<pre>private&nbsp;void&nbsp;probeSharedFiles(java.util.HashMap&lt;java.lang.String,java.lang.Boolean&gt;&nbsp;filesMap,
                    java.lang.String&nbsp;sharedFilePath,
                    java.lang.String&nbsp;pathPrefix)
                       throws java.io.IOException</pre>
<div class="block">Additions are files that are not in the hashmap. An action is triggered on the client, then 
 the new files are added to the hash map. For all files that are already in the hashmap, their
 values are set at true.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filesMap</code> - Hashmap containing files names and types as the key. The value is used to determine is a file has been deleted</dd><dd><code>sharedFilePath</code> - The path towards the shared folder of the client</dd><dd><code>pathPrefix</code> - Allows to call recursively the method to browse directories. Initially set to "" to browse the shared folder.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../logic/Client.html#addFile(java.lang.String, java.lang.String)"><code>Client.addFile(String, String)</code></a></dd></dl>
</li>
</ul>
<a name="initializeFilesMap(java.util.HashMap, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>initializeFilesMap</h4>
<pre>private&nbsp;void&nbsp;initializeFilesMap(java.util.HashMap&lt;java.lang.String,java.lang.Boolean&gt;&nbsp;filesMap,
                      java.lang.String&nbsp;sharedFilePath,
                      java.lang.String&nbsp;pathPrefix)
                         throws java.io.IOException</pre>
<div class="block">Fills the hashmap with file names and type for files found in the shared folder or any directory, 
 subdirectory and so on.
 File type is obtained with the help of the Tika library, provyded by Apache: see http://tika.apache.org for more information
 All the values are set to false</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filesMap</code> - Hashmap containing files names and types as the key. The value is used to determine is a file has been deleted</dd><dd><code>sharedFilePath</code> - The path towards the shared folder of the client</dd><dd><code>pathPrefix</code> - Allows to call recursively the method to browse directories. Initially set to "" to browse the shared folder.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../logic/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ClientProbe.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../logic/ClientHandler.html" title="class in logic"><span class="strong">Prev Class</span></a></li>
<li><a href="../logic/ClientReader.html" title="class in logic"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?logic/ClientProbe.html" target="_top">Frames</a></li>
<li><a href="ClientProbe.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
