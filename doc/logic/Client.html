<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Wed Dec 11 17:12:24 CET 2013 -->
<title>Client</title>
<meta name="date" content="2013-12-11">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Client";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../logic/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Client.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../logic/ClientFailureDetector.html" title="class in logic"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?logic/Client.html" target="_top">Frames</a></li>
<li><a href="Client.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">logic</div>
<h2 title="Class Client" class="title">Class Client</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>logic.Client</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Client</span>
extends java.lang.Object</pre>
<div class="block">Client process, that can connect to a server, add or delete shared files, request files from the server,
 check the availability of a file and download files. 
 
 Connections with the server or other clients are made through sockets. The client listens to the server replies through a separate thread (ClientReader)
 and another thread (ClientProbe) regularly checks for new or removed shared files. The client has a server
 part (ClientServer), aimed at providing interfaces for other clients to download his files, in which
 new connections are hendled by a ClientHandler. 
 
 The GUI for the client is contained in a ClientWindow.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../logic/ClientReader.html" title="class in logic"><code>ClientReader</code></a>, 
<a href="../logic/ClientProbe.html" title="class in logic"><code>ClientProbe</code></a>, 
<a href="../logic/ClientHandler.html" title="class in logic"><code>ClientHandler</code></a>, 
<a href="../logic/ClientServer.html" title="class in logic"><code>ClientServer</code></a>, 
<a href="../logic/Server.html" title="class in logic"><code>Server</code></a>, 
<code>ClientWindow</code></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#address">address</a></strong></code>
<div class="block">The IP address of the server</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#ADDRESS">ADDRESS</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../logic/ClientProbe.html" title="class in logic">ClientProbe</a></code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#clientProbe">clientProbe</a></strong></code>
<div class="block">Separate thread to regularly check for new or removed files in the shared folder</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../logic/ClientReader.html" title="class in logic">ClientReader</a></code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#clientReader">clientReader</a></strong></code>
<div class="block">Separate thread to receive messages from the server or other clients</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../logic/ClientServer.html" title="class in logic">ClientServer</a></code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#clientServer">clientServer</a></strong></code>
<div class="block">Server-side part of the client, to provide the interface for other clients to download shared files</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.net.Socket</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#clientSocket">clientSocket</a></strong></code>
<div class="block">Socket used to communicate with the server</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) gui.ClientWindow</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#clientWindow">clientWindow</a></strong></code>
<div class="block">JFrame holding all the GUI</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#downloadPort">downloadPort</a></strong></code>
<div class="block">The port of the server-side part of the client</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.net.Socket</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#downloadSocket">downloadSocket</a></strong></code>
<div class="block">Socket used when downloading a file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.util.HashMap&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#filesList">filesList</a></strong></code>
<div class="block">Hashmap containing files names and types as the key, and their path as the value</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#name">name</a></strong></code>
<div class="block">The name of the client</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#pathForDownloadedFile">pathForDownloadedFile</a></strong></code>
<div class="block">The path to the directory where a downloaded file will be stored</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#port">port</a></strong></code>
<div class="block">The port of the server</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#PORT">PORT</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.io.BufferedReader</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#rd">rd</a></strong></code>
<div class="block">Aimed at receiving messages from the server</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#sharedFilePath">sharedFilePath</a></strong></code>
<div class="block">The path towards the shared folder of the client</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#SHAREDFILEPATH">SHAREDFILEPATH</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) org.apache.tika.Tika</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#tika">tika</a></strong></code>
<div class="block">Tika is a tool provided by Apache to obtain the type of a file</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.io.PrintWriter</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#wr">wr</a></strong></code>
<div class="block">Aimed at sending messages to the server</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../logic/Client.html#Client(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">Client</a></strong>(java.lang.String&nbsp;sharedFilePath,
      java.lang.String&nbsp;address,
      java.lang.String&nbsp;port,
      java.lang.String&nbsp;name,
      java.lang.String&nbsp;downloadPort)</code>
<div class="block">Sets each field to their default value, and starts the GUI thread</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#addFile(java.lang.String, java.lang.String)">addFile</a></strong>(java.lang.String&nbsp;string,
       java.lang.String&nbsp;pathPrefix)</code>
<div class="block">Adds a new file to the hashmap (when a new file is detected by the ClientProbe)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#checkDownload(java.lang.String, java.lang.String)">checkDownload</a></strong>(java.lang.String&nbsp;fileName,
             java.lang.String&nbsp;remoteClientName)</code>
<div class="block">Asks the server ("isavailable") if a particular file from a particular client is available for download</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#creationSocket()">creationSocket</a></strong>()</code>
<div class="block">Attempts to connect to the server with the creationSocket socket</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#download(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">download</a></strong>(java.lang.String&nbsp;fileName,
        java.lang.String&nbsp;address,
        java.lang.String&nbsp;downloadPort,
        java.lang.String&nbsp;pathForDownloadedFile)</code>
<div class="block">Sends a "download" message to a remote client to start a download.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#fileNotAvailable(java.lang.String, java.lang.String)">fileNotAvailable</a></strong>(java.lang.String&nbsp;fileName,
                java.lang.String&nbsp;remoteClientName)</code>
<div class="block">Notifies the GUI that the requested file is not available</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#findPathToFile(java.lang.String)">findPathToFile</a></strong>(java.lang.String&nbsp;fileNameAndType)</code>
<div class="block">Given a file name and type (i.e. the key), returns the file path</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#getAddress()">getAddress</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#getDownloadPort()">getDownloadPort</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#getFileNames(java.util.HashMap, java.lang.String, java.lang.String)">getFileNames</a></strong>(java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;fileNameList,
            java.lang.String&nbsp;sharedFilePath,
            java.lang.String&nbsp;pathPrefix)</code>
<div class="block">Fills the hashmap with file names, type and paths for files found in the shared folder or any directory, 
 subdirectory and so on.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#getName()">getName</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#getPathForDownloadedFile()">getPathForDownloadedFile</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#getPort()">getPort</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#getSharedFilePath()">getSharedFilePath</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;args)</code>
<div class="block">Main function, whose purpose is to set default values and to instanciate the Client.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#removeFile(java.lang.String)">removeFile</a></strong>(java.lang.String&nbsp;string)</code>
<div class="block">Deletes a file from the hashmap (when a removed file is detected by the ClientProbe)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#request(java.lang.String[], java.lang.String, java.lang.String)">request</a></strong>(java.lang.String[]&nbsp;keywords,
       java.lang.String&nbsp;fileType,
       java.lang.String&nbsp;clientName)</code>
<div class="block">Sends a "request" message to the server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#setAddress(java.lang.String)">setAddress</a></strong>(java.lang.String&nbsp;address)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#setDownloadPort(java.lang.String)">setDownloadPort</a></strong>(java.lang.String&nbsp;downloadPort)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#setName(java.lang.String)">setName</a></strong>(java.lang.String&nbsp;name)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#setPathForDownloadedFile(java.lang.String)">setPathForDownloadedFile</a></strong>(java.lang.String&nbsp;pathForDownloadedFile)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#setPort(java.lang.String)">setPort</a></strong>(java.lang.String&nbsp;port)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#setSharedFilePath(java.lang.String)">setSharedFilePath</a></strong>(java.lang.String&nbsp;sharedFilePath)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#share()">share</a></strong>()</code>
<div class="block">Sends a "register" message to the server, containing the client's file names, types, and port for its server part</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#startDownload(java.lang.String, java.lang.String)">startDownload</a></strong>(java.lang.String&nbsp;fileName,
             java.lang.String&nbsp;remoteClientName)</code>
<div class="block">Notifies the GUI that a download has begun</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../logic/Client.html#unshare()">unshare</a></strong>()</code>
<div class="block">Sends an "unregister" message to the server</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="sharedFilePath">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sharedFilePath</h4>
<pre>private&nbsp;java.lang.String sharedFilePath</pre>
<div class="block">The path towards the shared folder of the client</div>
</li>
</ul>
<a name="address">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>address</h4>
<pre>private&nbsp;java.lang.String address</pre>
<div class="block">The IP address of the server</div>
</li>
</ul>
<a name="port">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>port</h4>
<pre>private&nbsp;java.lang.String port</pre>
<div class="block">The port of the server</div>
</li>
</ul>
<a name="name">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>private&nbsp;java.lang.String name</pre>
<div class="block">The name of the client</div>
</li>
</ul>
<a name="downloadPort">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>downloadPort</h4>
<pre>private&nbsp;java.lang.String downloadPort</pre>
<div class="block">The port of the server-side part of the client</div>
</li>
</ul>
<a name="filesList">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filesList</h4>
<pre>java.util.HashMap&lt;java.lang.String,java.lang.String&gt; filesList</pre>
<div class="block">Hashmap containing files names and types as the key, and their path as the value</div>
</li>
</ul>
<a name="tika">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tika</h4>
<pre>org.apache.tika.Tika tika</pre>
<div class="block">Tika is a tool provided by Apache to obtain the type of a file</div>
</li>
</ul>
<a name="clientSocket">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientSocket</h4>
<pre>java.net.Socket clientSocket</pre>
<div class="block">Socket used to communicate with the server</div>
</li>
</ul>
<a name="clientWindow">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientWindow</h4>
<pre>gui.ClientWindow clientWindow</pre>
<div class="block">JFrame holding all the GUI</div>
</li>
</ul>
<a name="wr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wr</h4>
<pre>java.io.PrintWriter wr</pre>
<div class="block">Aimed at sending messages to the server</div>
</li>
</ul>
<a name="rd">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rd</h4>
<pre>private&nbsp;java.io.BufferedReader rd</pre>
<div class="block">Aimed at receiving messages from the server</div>
</li>
</ul>
<a name="clientReader">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientReader</h4>
<pre><a href="../logic/ClientReader.html" title="class in logic">ClientReader</a> clientReader</pre>
<div class="block">Separate thread to receive messages from the server or other clients</div>
</li>
</ul>
<a name="clientServer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientServer</h4>
<pre><a href="../logic/ClientServer.html" title="class in logic">ClientServer</a> clientServer</pre>
<div class="block">Server-side part of the client, to provide the interface for other clients to download shared files</div>
</li>
</ul>
<a name="downloadSocket">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>downloadSocket</h4>
<pre>java.net.Socket downloadSocket</pre>
<div class="block">Socket used when downloading a file. The socket is connected to the server part of a remote client</div>
</li>
</ul>
<a name="pathForDownloadedFile">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pathForDownloadedFile</h4>
<pre>private&nbsp;java.lang.String pathForDownloadedFile</pre>
<div class="block">The path to the directory where a downloaded file will be stored</div>
</li>
</ul>
<a name="clientProbe">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientProbe</h4>
<pre>private&nbsp;<a href="../logic/ClientProbe.html" title="class in logic">ClientProbe</a> clientProbe</pre>
<div class="block">Separate thread to regularly check for new or removed files in the shared folder</div>
</li>
</ul>
<a name="SHAREDFILEPATH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SHAREDFILEPATH</h4>
<pre>public static final&nbsp;java.lang.String SHAREDFILEPATH</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#logic.Client.SHAREDFILEPATH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ADDRESS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ADDRESS</h4>
<pre>public static final&nbsp;java.lang.String ADDRESS</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#logic.Client.ADDRESS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="PORT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PORT</h4>
<pre>public static final&nbsp;java.lang.String PORT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#logic.Client.PORT">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Client(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Client</h4>
<pre>public&nbsp;Client(java.lang.String&nbsp;sharedFilePath,
      java.lang.String&nbsp;address,
      java.lang.String&nbsp;port,
      java.lang.String&nbsp;name,
      java.lang.String&nbsp;downloadPort)
       throws java.io.IOException</pre>
<div class="block">Sets each field to their default value, and starts the GUI thread</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sharedFilePath</code> - The path towards the shared folder of the client</dd><dd><code>address</code> - The IP address of the server</dd><dd><code>port</code> - The port of the server</dd><dd><code>name</code> - The name of the client</dd><dd><code>downloadPort</code> - The port of the server-side part of the client</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd><dt><span class="strong">See Also:</span></dt><dd><code>ClientWindow</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getFileNames(java.util.HashMap, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileNames</h4>
<pre>private&nbsp;void&nbsp;getFileNames(java.util.HashMap&lt;java.lang.String,java.lang.String&gt;&nbsp;fileNameList,
                java.lang.String&nbsp;sharedFilePath,
                java.lang.String&nbsp;pathPrefix)
                   throws java.io.IOException</pre>
<div class="block">Fills the hashmap with file names, type and paths for files found in the shared folder or any directory, 
 subdirectory and so on.
 File type is obtained with the help of the Tika library, provyded by Apache: see http://tika.apache.org for more information</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileNameList</code> - The hashmap containing the file names, types and paths</dd><dd><code>sharedFilePath</code> - The path towards the shared folder of the client</dd><dd><code>pathPrefix</code> - Allows to call recursively the method to browse directories. Initially set to "" to browse the shared folder.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="findPathToFile(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findPathToFile</h4>
<pre>public&nbsp;java.lang.String&nbsp;findPathToFile(java.lang.String&nbsp;fileNameAndType)</pre>
<div class="block">Given a file name and type (i.e. the key), returns the file path</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileNameAndType</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>The path to the file</dd></dl>
</li>
</ul>
<a name="creationSocket()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>creationSocket</h4>
<pre>private&nbsp;boolean&nbsp;creationSocket()</pre>
<div class="block">Attempts to connect to the server with the creationSocket socket</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the socket was successfully created, false otherwise</dd></dl>
</li>
</ul>
<a name="share()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>share</h4>
<pre>public&nbsp;void&nbsp;share()
           throws java.io.IOException</pre>
<div class="block">Sends a "register" message to the server, containing the client's file names, types, and port for its server part</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="unshare()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unshare</h4>
<pre>public&nbsp;void&nbsp;unshare()
             throws java.io.IOException</pre>
<div class="block">Sends an "unregister" message to the server</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="request(java.lang.String[], java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>request</h4>
<pre>public&nbsp;void&nbsp;request(java.lang.String[]&nbsp;keywords,
           java.lang.String&nbsp;fileType,
           java.lang.String&nbsp;clientName)</pre>
<div class="block">Sends a "request" message to the server. The request message is composed of one or more keywords, and optionnally
 a file type and a client name (not implemented yet).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>keywords</code> - The keywords for the search</dd><dd><code>fileType</code> - The file type required by the client search ("" matches all files)</dd><dd><code>clientName</code> - The remote client required by the client search (not implemented yet)</dd></dl>
</li>
</ul>
<a name="download(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>download</h4>
<pre>public&nbsp;void&nbsp;download(java.lang.String&nbsp;fileName,
            java.lang.String&nbsp;address,
            java.lang.String&nbsp;downloadPort,
            java.lang.String&nbsp;pathForDownloadedFile)</pre>
<div class="block">Sends a "download" message to a remote client to start a download.
 
 This methods creates a new ClientReader thread to handle the download.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileName</code> - The name of the file to be downloaded</dd><dd><code>address</code> - The IP address of the owner the file to be downloaded</dd><dd><code>downloadPort</code> - The port of the server part of the owner the file to be downloaded</dd><dd><code>pathForDownloadedFile</code> - The path of the directory where the file should be saved</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../logic/ClientReader.html" title="class in logic"><code>ClientReader</code></a></dd></dl>
</li>
</ul>
<a name="addFile(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addFile</h4>
<pre>public&nbsp;void&nbsp;addFile(java.lang.String&nbsp;string,
           java.lang.String&nbsp;pathPrefix)</pre>
<div class="block">Adds a new file to the hashmap (when a new file is detected by the ClientProbe)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>string</code> - The file name and type of the file</dd><dd><code>pathPrefix</code> - The path (relative to the shared directory) to the file</dd></dl>
</li>
</ul>
<a name="removeFile(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFile</h4>
<pre>public&nbsp;void&nbsp;removeFile(java.lang.String&nbsp;string)</pre>
<div class="block">Deletes a file from the hashmap (when a removed file is detected by the ClientProbe)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>string</code> - </dd></dl>
</li>
</ul>
<a name="checkDownload(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDownload</h4>
<pre>public&nbsp;void&nbsp;checkDownload(java.lang.String&nbsp;fileName,
                 java.lang.String&nbsp;remoteClientName)</pre>
<div class="block">Asks the server ("isavailable") if a particular file from a particular client is available for download</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileName</code> - The name of the file</dd><dd><code>remoteClientName</code> - The name of the remote client</dd></dl>
</li>
</ul>
<a name="startDownload(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startDownload</h4>
<pre>public&nbsp;void&nbsp;startDownload(java.lang.String&nbsp;fileName,
                 java.lang.String&nbsp;remoteClientName)</pre>
<div class="block">Notifies the GUI that a download has begun</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileName</code> - The name of the file</dd><dd><code>remoteClientName</code> - The name of the remote client</dd></dl>
</li>
</ul>
<a name="fileNotAvailable(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fileNotAvailable</h4>
<pre>public&nbsp;void&nbsp;fileNotAvailable(java.lang.String&nbsp;fileName,
                    java.lang.String&nbsp;remoteClientName)</pre>
<div class="block">Notifies the GUI that the requested file is not available</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileName</code> - The name of the file</dd><dd><code>remoteClientName</code> - The name of the remote client</dd></dl>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)
                 throws java.io.IOException</pre>
<div class="block">Main function, whose purpose is to set default values and to instanciate the Client.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>args</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
</li>
</ul>
<a name="setName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setName</h4>
<pre>public&nbsp;void&nbsp;setName(java.lang.String&nbsp;name)</pre>
</li>
</ul>
<a name="getAddress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddress</h4>
<pre>public&nbsp;java.lang.String&nbsp;getAddress()</pre>
</li>
</ul>
<a name="setAddress(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAddress</h4>
<pre>public&nbsp;void&nbsp;setAddress(java.lang.String&nbsp;address)</pre>
</li>
</ul>
<a name="getPort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPort</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPort()</pre>
</li>
</ul>
<a name="setPort(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPort</h4>
<pre>public&nbsp;void&nbsp;setPort(java.lang.String&nbsp;port)</pre>
</li>
</ul>
<a name="getDownloadPort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDownloadPort</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDownloadPort()</pre>
</li>
</ul>
<a name="setDownloadPort(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDownloadPort</h4>
<pre>public&nbsp;void&nbsp;setDownloadPort(java.lang.String&nbsp;downloadPort)</pre>
</li>
</ul>
<a name="getSharedFilePath()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSharedFilePath</h4>
<pre>public&nbsp;java.lang.String&nbsp;getSharedFilePath()</pre>
</li>
</ul>
<a name="setSharedFilePath(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSharedFilePath</h4>
<pre>public&nbsp;void&nbsp;setSharedFilePath(java.lang.String&nbsp;sharedFilePath)</pre>
</li>
</ul>
<a name="getPathForDownloadedFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPathForDownloadedFile</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPathForDownloadedFile()</pre>
</li>
</ul>
<a name="setPathForDownloadedFile(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setPathForDownloadedFile</h4>
<pre>public&nbsp;void&nbsp;setPathForDownloadedFile(java.lang.String&nbsp;pathForDownloadedFile)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../logic/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Client.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../logic/ClientFailureDetector.html" title="class in logic"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?logic/Client.html" target="_top">Frames</a></li>
<li><a href="Client.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
